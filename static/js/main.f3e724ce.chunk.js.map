{"version":3,"sources":["helpers/UserSingleton.js","components/Navbar.js","components/HomeRoute.js","api/Api.js","api/ModelsApi.js","components/TrainingLabel.js","helpers/DateTimeHelper.js","components/ModelCard.js","components/Spinner.js","components/ModelsRoute.js","components/Chart.js","helpers/HistoryParser.js","helpers/UnauthorizedAlert.js","components/ModelOptionsDropdown.js","components/SideModelInfo.js","components/TrainingPanel.js","components/StatsRoute.js","api/UsersApi.js","components/Alertbox.js","components/LoginForm.js","components/LoginRoute.js","components/LogoutRoute.js","App.js","serviceWorker.js","index.js"],"names":["UserSingleton","instance","this","token","localStorage","getItem","expiration","id","loginListener","logoutListener","setItem","removeItem","listener","Navbar","props","us","state","showLoginButton","Boolean","getToken","addLoginListener","setState","addLogoutListener","LoginButton","className","exact","to","activeClassName","LogoutButton","src","process","width","height","alt","type","data-toggle","data-target","React","Component","HomeRoute","Object","keys","refs","forEach","key","window","$","tooltip","loadTooltips","root","href","ref","title","Api","API_ROOT","SOCKET_URL","userSingleton","getUserId","route","init","method","mode","redirect","headers","_getAuthHeaders","fetch","body","JSON","stringify","then","res","text","txt","ModelsApi","get","json","post","status","delete","description","TrainingLabel","DateTimeHelper","timestamp","date","Date","day","getDate","slice","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","Math","floor","now","interval","start","end","delta","abs","days","round","s","DurationLabel","show","duration","ModelCard","model","dth","name","training_end","timeSince","training_start","elapsedTime","Spinner","intervalId","setInterval","clearInterval","ModelsRoute","cards","showSpinner","rows","i","ceil","length","cols","j","push","api","getModelsList","models","map","loadModels","socket","io","on","data","close","style","marginTop","createTable","Chart","chart","ctx","document","getElementById","chartConfig","labels","datasets","options","display","scales","yAxes","ticks","beginAtZero","fontColor","scaleLabel","labelString","xAxes","elements","point","radius","hoverRadius","hitRadius","tooltips","intersect","axis","position","aspectRatio","responsive","maintainAspectRatio","plugins","zoom","pan","enabled","rangeMin","x","rangeMax","speed","drag","sensitivity","chartInstance","ChartJS","addEventListener","resetZoom","prevProps","prevState","update","HistoryParser","colors","label","borderColor","backgroundColor","fill","lineTension","metrics","createDatasetArray","metricsObj","reduce","acc","curr","metric","r","epoch","dataset","UnauthorizedAlert","confirm","location","ModelOptionsDropdown","deleteModel","desc","prompt","updateDescription","getModel","updateParent","path","mdiDotsVertical","size","aria-labelledby","onClick","editModelDescHandler","mdiPencil","deleteModelHandler","mdiDelete","SideModelInfo","keyPrefix","k","layer","info","Trainable","toLocaleString","config","parseConfig","optimizer","layers","class_name","batch_input_shape","String","dict","newKey","replace","c","toUpperCase","toLocaleLowerCase","parseModelData","drawLayers","parseLayersData","parseOptimizerData","StopSignalNotification","TrainingPanel","showStopSignalNotification","stopTraining","tabIndex","data-dismiss","stopTrainingClickHandler","disabled","createModal","StatsRoute","params","match","getHistory","history","parser","parsedHistory","parse","newData","oldData","includes","drawChart","console","log","socketUpdate","a","renderTrainingPanel","condition","UsersApi","username","password","Alertbox","classes","message","LoginForm","loading","alertbox","e","target","value","preventDefault","auth","success","setUserId","userid","setToken","setTokenExpiration","valid_until","LoadingButton","SubmitButton","onSubmit","handleSubmit","mdiAccount","placeholder","onChange","handleChange","mdiKey","LoginRoute","maxWidth","backgroundImage","backgroundRepeat","backgroundPosition","LogoutRoute","clearData","App","component","hostname","ReactDOM","render","basename","navigator","serviceWorker","ready","registration","unregister"],"mappings":"qRAgEeA,G,iBA/Db,aACE,OADa,oBACPA,EAAcC,SACXD,EAAcC,UAIvBC,KAAKC,MAAQC,aAAaC,QAAQ,cAClCH,KAAKI,WAAaF,aAAaC,QAAQ,yBACvCH,KAAKK,GAAKH,aAAaC,QAAQ,WAC/BH,KAAKM,cAAgB,aACrBN,KAAKO,eAAiB,aAEtBT,EAAcC,SAAWC,KAClBA,M,uDAIP,OAAOA,KAAKC,Q,+BAGLA,GACPD,KAAKC,MAAQA,EACbC,aAAaM,QAAQ,aAAcP,GACnCD,KAAKM,kB,2CAIL,OAAON,KAAKI,a,yCAGKA,GACjBJ,KAAKI,WAAaA,EAClBF,aAAaM,QAAQ,wBAAyBJ,K,kCAI9C,OAAOJ,KAAKK,K,gCAGJA,GACRL,KAAKK,GAAKA,EACVH,aAAaM,QAAQ,UAAWH,K,kCAIhCL,KAAKK,GAAK,KACVL,KAAKI,WAAa,KAClBJ,KAAKC,MAAQ,KACbC,aAAaO,WAAW,WACxBP,aAAaO,WAAW,cACxBP,aAAaO,WAAW,yBACxBT,KAAKO,mB,uCAGUG,GACfV,KAAKM,cAAgBI,I,wCAGLA,GAChBV,KAAKO,eAAiBG,M,MCxDpBC,E,kDACJ,WAAYC,GAAQ,IAAD,sBACjB,cAAMA,GAEN,IAAMC,EAAK,IAAIf,EAHE,OAIjB,EAAKgB,MAAQ,CACXC,iBAAkBC,QAAQH,EAAGI,aAE/BJ,EAAGK,kBAAiB,kBAAM,EAAKC,SAAS,CAAEJ,iBAAiB,OAC3DF,EAAGO,mBAAkB,kBAAM,EAAKD,SAAS,CAAEJ,iBAAiB,OAR3C,E,qDAYjB,IAAMM,EAAc,WAClB,OACE,wBAAIC,UAAU,YACZ,kBAAC,IAAD,CAASC,OAAK,EAACC,GAAG,SAASF,UAAU,WAAWG,gBAAgB,UAAhE,WAKAC,EAAe,WACnB,OACE,wBAAIJ,UAAU,YACZ,kBAAC,IAAD,CAASC,OAAK,EAACC,GAAG,UAAUF,UAAU,WAAWG,gBAAgB,UAAjE,YAKN,OACE,yBAAKH,UAAU,+CACb,kBAAC,IAAD,CAAME,GAAG,IAAIF,UAAU,gBACrB,yBAAKK,IAAKC,sCAAuDC,MAAM,KAAKC,OAAO,KAAKC,IAAI,KAC5F,0BAAMT,UAAU,QAAhB,aAGF,4BAAQA,UAAU,iBAAiBU,KAAK,SAASC,cAAY,WAAWC,cAAY,cAClF,0BAAMZ,UAAU,yBAElB,yBAAKA,UAAU,2BAA2BjB,GAAG,aAC3C,wBAAIiB,UAAU,sBACZ,wBAAIA,UAAU,YACZ,kBAAC,IAAD,CAASC,OAAK,EAACC,GAAG,IAAIF,UAAU,WAAWG,gBAAgB,UAA3D,SAEF,wBAAIH,UAAU,YACZ,kBAAC,IAAD,CAASC,OAAK,EAACC,GAAG,UAAUF,UAAU,WAAWG,gBAAgB,UAAjE,WAEDzB,KAAKc,MAAMC,gBAAkB,kBAACM,EAAD,MAAkB,kBAACK,EAAD,a,GA/CvCS,IAAMC,WAuD3BzB,EAAOI,iBAAkB,EAEVJ,QCsCA0B,E,kDA7Fb,WAAYzB,GAAQ,uCACZA,G,2DAIQ,IAAD,OACb0B,OAAOC,KAAKvC,KAAKwC,MAAMC,SAAQ,SAAAC,GAC7BC,OAAOC,EAAE,EAAKJ,KAAKE,IAAMG,e,0CAK3B7C,KAAK8C,iB,+BAIL,IAAMC,EAAOnB,YAEb,OACE,oCACE,kBAAC,EAAD,MACA,yBAAKN,UAAU,4BACb,yBAAKA,UAAU,oDACb,yBAAKK,IAAKoB,EAAO,0CAA2CjB,OAAO,OAAOC,IAAI,KAC9E,0BAAMT,UAAU,mCAAhB,aAGF,yBAAKA,UAAU,gCACb,0BAAMA,UAAU,eAAhB,6IAMF,yBAAKA,UAAU,aACb,yCACA,yBAAKA,UAAU,6GACb,uBAAG0B,KAAK,uBAAuBC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,SACjE,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,sBAAuBhB,IAAI,WAEpE,uBAAGiB,KAAK,4BAA4BC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,aACtE,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,2BAA4BhB,IAAI,eAEzE,uBAAGiB,KAAK,2BAA2BC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,WACrE,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,wBAAyBhB,IAAI,aAEtE,uBAAGiB,KAAK,oCAAoCC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,UAC9E,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,uBAAwBhB,IAAI,YAErE,uBAAGiB,KAAK,qBAAqBC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,aAC/D,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,yBAA0BhB,IAAI,eAEvE,uBAAGiB,KAAK,yBAAyBC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,WACnE,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,wBAAyBhB,IAAI,aAEtE,uBAAGiB,KAAK,oBAAoBC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,SAC9D,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,sBAAuBhB,IAAI,aAKxE,yBAAKT,UAAU,QACb,0CACA,yBAAKA,UAAU,6GACb,uBAAG0B,KAAK,4BAA4BC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,gBACtE,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,wBAAyBhB,IAAI,kBAEtE,uBAAGiB,KAAK,sBAAsBC,IAAI,IAAIhB,cAAY,UAAUiB,MAAM,aAChE,yBAAK5B,UAAU,YAAYK,IAAKoB,EAAO,uBAAwBhB,IAAI,iBAKzE,yBAAKT,UAAU,QACb,2CACA,yBAAKA,UAAU,6GACb,uBAAGA,UAAU,0CAA0C0B,KAAK,yCAC1D,yBAAK1B,UAAU,OAAOO,MAAM,OAAOC,OAAO,OAAOH,IAAKoB,EAAO,uBAAwBhB,IAAI,WAD3F,gBAGA,uBAAGT,UAAU,0CAA0C0B,KAAK,gDAC1D,yBAAK1B,UAAU,OAAOO,MAAM,OAAOC,OAAO,OAAOH,IAAKoB,EAAO,uBAAwBhB,IAAI,WAD3F,aAGA,uBAAGT,UAAU,0CAA0C0B,KAAK,gDAC1D,yBAAK1B,UAAU,OAAOO,MAAM,OAAOC,OAAO,OAAOH,IAAKoB,EAAO,uBAAwBhB,IAAI,WAD3F,gC,GApFUI,IAAMC,W,gDC+Dfe,E,WA7Db,aAAe,oBAEbnD,KAAKoD,SAC2B,iCAChCpD,KAAKqD,WACuB,6B,8DAI5B,IAAMC,EAAgB,IAAIxD,EAC1B,MAAO,CACL,mBAAoBwD,EAAcrC,WAClC,iBAAkBqC,EAAcC,e,0BAIhCC,GACF,IAAMC,EAAO,CACXC,OAAQ,MACRC,KAAM,OACNC,SAAU,SACVC,QAAS7D,KAAK8D,mBAGhB,OAAOC,MAAM,GAAD,OAAI/D,KAAKoD,UAAT,OAAoBI,GAASC,K,2BAGtCD,GAAmB,IAAZQ,EAAW,uDAAJ,GACXP,EAAO,CACXC,OAAQ,OACRC,KAAM,OACNC,SAAU,SACVC,QAAQ,aACN,eAAgB,oBACb7D,KAAK8D,mBAEVE,KAAMC,KAAKC,UAAUF,IAGvB,OAAOD,MAAM,GAAD,OAAI/D,KAAKoD,UAAT,OAAoBI,GAASC,K,6BAGpCD,GACL,IAAMC,EAAO,CACXC,OAAQ,SACRC,KAAM,OACNC,SAAU,SACVC,QAAS7D,KAAK8D,mBAGhB,OAAOC,MAAM,GAAD,OAAI/D,KAAKoD,UAAT,OAAoBI,GAASC,K,6BAIzCM,MAAM,GAAD,OAAI/D,KAAKoD,SAAT,UAA0Be,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAG,GAC1D,QAAIA,S,KC7BKC,E,0KA5BX,OAAOvE,KAAKwE,IAAI,WAAWL,MAAK,SAAAC,GAAG,OAAIA,EAAIK,Y,sCAI3C,OAAOzE,KAAKwE,IAAI,gBAAgBL,MAAK,SAAAC,GAAG,OAAIA,EAAIK,Y,+BAGzCpE,GACP,OAAOL,KAAKwE,IAAL,iBAAmBnE,IAAM8D,MAAK,SAAAC,GAAG,OAAIA,EAAIK,Y,iCAGvCpE,GACT,OAAOL,KAAKwE,IAAL,mBAAqBnE,IAAM8D,MAAK,SAAAC,GAAG,OAAIA,EAAIK,Y,mCAGvCpE,GACX,OAAOL,KAAK0E,KAAL,oBAAuBrE,EAAvB,UAAkC8D,MAAK,SAAAC,GAAG,OAAIA,EAAIO,Y,kCAG/CtE,GACV,OAAOL,KAAK4E,OAAL,iBAAsBvE,IAAM8D,MAAK,SAAAC,GAAG,OAAIA,EAAIO,Y,wCAGnCtE,EAAIwE,GACpB,OAAO7E,KAAK0E,KAAL,iBAAoBrE,EAApB,gBAAsCwE,GAAaV,MAAK,SAAAC,GAAG,OAAIA,EAAIO,c,GA1BtDxB,GCWT2B,E,uKATX,OACE,6BACE,0BAAMxD,UAAU,8CAChB,0BAAMA,UAAU,qBAAhB,iB,GALoBa,IAAMC,WC8DnB2C,E,mGA/DFC,GACT,IAAMC,EAAO,IAAIC,KAAKF,GAChBG,GAAO,IAAMF,EAAKG,WAAWC,OAAO,GACpCC,GAAS,IAAML,EAAKM,YAAYF,OAAO,GACvCG,GAAQ,IAAMP,EAAKQ,eAAeJ,OAAO,GACzCK,GAAS,IAAMT,EAAKU,YAAYN,OAAO,GACvCO,GAAW,IAAMX,EAAKY,cAAcR,OAAO,GAC3CS,GAAW,IAAMb,EAAKc,cAAcV,OAAO,GAEjD,MAAM,GAAN,OAAUF,EAAV,YAAiBG,EAAjB,YAA0BE,EAA1B,cAAoCE,EAApC,YAA6CE,EAA7C,YAAwDE,K,gCAGhDd,GACR,IAKMc,EAAUE,KAAKC,OAAOf,KAAKgB,MAAQlB,GAAa,KAElDmB,EAAWH,KAAKC,MAAMH,EAPJ,SAQtB,OAAIK,GAAY,EACPA,EAAW,cAGpBA,EAAWH,KAAKC,MAAMH,EAXC,UAYP,EACPK,EAAW,eAGpBA,EAAWH,KAAKC,MAAMH,EAfD,SAgBL,EACPK,EAAW,aAGpBA,EAAWH,KAAKC,MAAMH,EAnBA,QAoBN,EACPK,EAAW,cAGpBA,EAAWH,KAAKC,MAAMH,EAvBE,MAwBR,EACPK,EAAW,eAGbH,KAAKC,MAAMH,GAAW,iB,kCAGnBM,EAAOC,GACjB,IAAMC,EAAQN,KAAKO,KAAKF,EAAMD,GAAS,KACjCI,EAAOR,KAAKC,MAAMK,EAAQ,OAC1BZ,EAAQM,KAAKC,MAAMK,EAAQ,MAAQ,GACnCV,EAAUI,KAAKC,MAAMK,EAAQ,IAAM,GACnCR,EAAUE,KAAKS,MAAMH,EAAQ,IAE/BI,EAAIF,EAAO,EAAIA,EAAO,UAAY,GAItC,OAHAE,GAAKhB,EAAQ,EAAIA,EAAQ,MAAQ,GACjCgB,GAAKd,EAAU,EAAIA,EAAU,QAAU,GACvCc,GAAKZ,EAAU,EAAIA,EAAU,IAAM,O,WCrDvC,SAASa,EAAc/F,GACrB,OAAIA,EAAMgG,KAEN,yBAAKtF,UAAU,YACb,0BAAMA,UAAU,8CAAhB,eACCV,EAAMiG,UAIN,K,IAqCMC,E,kDAjCb,WAAYlG,GAAQ,IAAD,8BACjB,cAAMA,IACDA,MAAQA,EAFI,E,qDAKT,IAAD,EACeZ,KAAKY,MAAnBP,EADD,EACCA,GAAI0G,EADL,EACKA,MACNC,EAAM,IAAIjC,EAEhB,OACE,yBAAKzD,UAAU,aACb,kBAAC,IAAD,CAAME,GAAE,iBAAYnB,IAClB,yBAAKiB,UAAS,eAAUtB,KAAKY,MAAMU,YACjC,yBAAKA,UAAU,aACb,yBAAKA,UAAU,kCACb,wBAAIA,UAAU,cACXyF,EAAME,OAEPF,EAAMG,cAAgB,kBAAC,EAAD,OAE1B,2BAAO5F,UAAU,qBACf,0BAAMA,UAAU,8CAAhB,aACC0F,EAAIG,UAAUJ,EAAMK,gBAFvB,UAGA,kBAACT,EAAD,CAAeC,KAAMG,EAAMG,aAAcL,SAAUG,EAAIK,YAAYN,EAAMK,eAAgBL,EAAMG,yB,GAxBrF/E,IAAMC,WCSfkF,G,wDAvBb,WAAY1G,GAAQ,IAAD,8BACjB,cAAMA,IACDE,MAAQ,CACX8F,MAAM,GAER,EAAKW,WAAaC,aAAY,WAC5B,EAAKrG,SAAS,CAAEyF,MAAM,MACrB,KAPc,E,mEAWO,OAApB5G,KAAKuH,YACPE,cAAczH,KAAKuH,c,+BAKrB,OACEvH,KAAKc,MAAM8F,MAAQ,yBAAKtF,UAAU,gB,GAnBlBa,IAAMC,YC0FbsF,E,kDArFb,WAAY9G,GAAQ,IAAD,8BACjB,cAAMA,IACDE,MAAQ,CACX6G,MAAO,GACPC,aAAa,GAJE,E,wDAQPD,GAGV,IAFA,IAAME,EAAO,GAEJC,EAAI,EAAGA,EAAI9B,KAAK+B,KAAKJ,EAAMK,OAAS,GAAMF,IAAK,CAGtD,IAFA,IAAMG,EAAO,GAEJC,EAAI,EAAGA,EAAI,GAAK,EAAIJ,EAAII,EAAIP,EAAMK,OAAQE,IACjDD,EAAKE,KACH,yBAAKzF,IAAG,YAAOoF,EAAP,YAAYI,GAAK5G,UAAU,YAChCqG,EAAM,EAAIG,EAAII,KAKrBL,EAAKM,KACH,yBAAKzF,IAAG,YAAOoF,GAAKxG,UAAU,OAC3B2G,IAKP,OAAOJ,I,8JAIDO,EAAM,IAAI7D,E,SACK6D,EAAIC,gB,OAAnBC,E,OAEAX,EAAQW,EAAOC,KAAI,SAAAxB,GACvB,OACE,kBAAC,EAAD,CAAWrE,IAAKqE,EAAM1G,GAAIA,GAAI0G,EAAM1G,GAAI0G,MAAOA,EAAOzF,UAAU,YAIpEtB,KAAKmB,SAAS,CACZwG,MAAOA,EACPC,aAAa,I,qRAKT5H,KAAKwI,a,OACXxI,KAAKyI,OAASC,KAAG,IAAInE,GAAYlB,YACjCrD,KAAKyI,OAAOE,GAAG,UAAU,SAAAC,GACV,QAATA,GACF,EAAKJ,gB,mJAMTxI,KAAKyI,OAAOI,U,+BAIZ,OAAI7I,KAAKc,MAAM8G,YAEX,oCACE,kBAAC,EAAD,MACA,yBAAKtG,UAAU,yEAAyEwH,MAAO,CAAEC,UAAW,UAC1G,kBAAC,EAAD,QAON,oCACE,kBAAC,EAAD,MACA,yBAAKzH,UAAU,kBACZtB,KAAKgJ,YAAYhJ,KAAKc,MAAM6G,a,GA/EbxF,IAAMC,W,iBC0GjB6G,G,gEA3Gb,WAAYrI,GAAQ,IAAD,8BACjB,cAAMA,IACDsI,MAAQ,KAFI,E,gEAKE,IAAD,OACZC,EAAMC,SAASC,eAAe,eACpCrJ,KAAKsJ,YAAc,CACjBtH,KAAM,OACN4G,KAAM,CACJW,OAAQ,GACRC,SAAU,IAEZC,QAAS,CACPvG,MAAO,CACLwG,SAAS,EACTrF,KAAM,qBAERsF,OAAQ,CACNC,MAAO,CAAC,CACNC,MAAO,CACLC,aAAa,EACbC,UAAW,QAEbC,WAAY,CACVN,SAAS,EACTO,YAAa,YAGjBC,MAAO,CAAC,CACNL,MAAO,CACLE,UAAW,QAEbC,WAAY,CACVN,SAAS,EACTO,YAAa,YAInBE,SAAU,CACRC,MAAO,CACLC,OAAQ,EACRC,YAAa,EACbC,UAAW,IAGfC,SAAU,CACRC,WAAW,EACX9G,KAAM,QACN+G,KAAM,IACNC,SAAU,WAEZC,YAAa,KACbC,YAAY,EACZC,qBAAqB,EACrBC,QAAS,CACPC,KAAM,CACJC,IAAK,CACHC,SAAS,EACTvH,KAAM,IACNwH,SAAU,CACRC,EAAG,GAELC,SAAU,CACRD,EAAG,MAELE,MAAO,IAETN,KAAM,CACJE,SAAS,EACTK,MAAM,EACN5H,KAAM,IACNwH,SAAU,CACRC,EAAG,GAELC,SAAU,CACRD,EAAG,MAELE,MAAO,GACPE,YAAa,SAOvBxL,KAAKyL,cAAgB,IAAIC,IAAQvC,EAAKnJ,KAAKsJ,aAC3CH,EAAIwC,iBAAiB,YAAY,kBAAM,EAAKF,cAAcG,iB,yCAGzCC,EAAWC,GACxB9L,KAAKY,MAAMgI,OACb5I,KAAKsJ,YAAYV,KAAKW,OAASvJ,KAAKY,MAAMgI,KAAKW,OAC/CvJ,KAAKsJ,YAAYV,KAAKY,SAAWxJ,KAAKY,MAAMgI,KAAKY,SACjDxJ,KAAKyL,cAAcM,Y,+BAKrB,OACE,yBAAKzK,UAAU,gBACb,4BAAQjB,GAAG,qB,GAtGC8B,IAAMC,YC6DX4J,E,WAjEb,aAAe,oBACbhM,KAAKiM,OAAS,CACZ,oBACA,oBACA,qBACA,oBACA,oBACA,oBACA,sBAEFjM,KAAKwJ,SAAW,G,+DAGCjH,GAAO,IAAD,OACvB,OAAOA,EAAKgG,KAAI,SAAC7F,EAAKoF,GACpB,MAAO,CACLoE,MAAOxJ,EACPkG,KAAM,GACNuD,YAAa,EAAKF,OAAOnE,GACzBsE,gBAAiB,EAAKH,OAAOnE,GAC7BuE,MAAM,EACNC,YAAa,Q,4BAKb1D,GACJ,GAA6B,IAAzB5I,KAAKwJ,SAASxB,OAAc,CAC9B,KAAIY,EAAKZ,OAAS,GAIhB,OAHA,IAAMzF,EAAOD,OAAOC,KAAKqG,EAAK,GAAG2D,SACjCvM,KAAKwJ,SAAWxJ,KAAKwM,mBAAmBjK,GAO5C,IAAMkK,EAAa7D,EAAK8D,QAAO,SAACC,EAAKC,GAQnC,OAPAtK,OAAOC,KAAKqK,EAAKL,SAAS9J,SAAQ,SAAAoK,GAC5BA,KAAUF,EACZA,EAAIE,GAAQ1E,KAAKyE,EAAKL,QAAQM,IAE9BF,EAAIE,GAAU,CAACD,EAAKL,QAAQM,OAGzBF,IACN,IAEGpD,EAASX,EAAKL,KAAI,SAAAuE,GACtB,OAAOA,EAAEC,MAAQ,KASnB,OANA/M,KAAKwJ,SAAS/G,SAAQ,SAAAuK,GAChBA,EAAQd,SAASO,IACnBO,EAAQpE,KAAO6D,EAAWO,EAAQd,WAI/B,CACL3C,OAAQA,EACRC,SAAUxJ,KAAKwJ,c,uCCvDNyD,MANf,WACMtK,OAAOuK,QAAQ,kDACjBvK,OAAOwK,SAAW,aCqEPC,E,kDA/Db,WAAYxM,GAAQ,IAAD,8BACjB,cAAMA,IACDE,MAAQ,CACX8C,UAAU,GAHK,E,oLAQZjB,OAAOuK,QAAQ,+C,wDAEd9E,EAAM,IAAI7D,E,SACG6D,EAAIiF,YAAYrN,KAAKY,MAAMmG,MAAM1G,I,OACvC,M,OACXL,KAAKmB,SAAS,CAAEyC,UAAU,IAE1BqJ,I,0QAOW,QAFPK,EAAO3K,OAAO4K,OAAO,kBAAmBvN,KAAKY,MAAMmG,MAAMlC,c,wBAGvDuD,EAAM,IAAI7D,E,SACG6D,EAAIoF,kBAAkBxN,KAAKY,MAAMmG,MAAM1G,GAAI,CAAEwE,YAAayI,I,UAChE,M,wCACSlF,EAAIqF,SAASzN,KAAKY,MAAMmG,MAAM1G,I,OAA5C0G,E,OACN/G,KAAKY,MAAM8M,aAAa,CAAE3G,U,wBAE1BkG,I,sIAKI,IAAD,OACP,OAAIjN,KAAKc,MAAM8C,SAEX,kBAAC,IAAD,CAAUpC,GAAG,UAAU2G,MAAM,IAI7BnI,KAAKY,MAAMmG,MAAM1G,GAEjB,yBAAKiB,UAAU,YACb,yBAAKA,UAAU,MAAMjB,GAAG,qBAAqB4B,cAAY,YACvD,kBAAC,IAAD,CAAM0L,KAAMC,IAAiBC,KAAM,KAErC,yBAAKvM,UAAU,oCAAoCwM,kBAAgB,sBACjE,4BAAQxM,UAAU,sDAAsDyM,QAAS,kBAAM,EAAKC,yBAC1F,0BAAM1M,UAAU,qBAAoB,kBAAC,IAAD,CAAMqM,KAAMM,IAAWJ,KAAM,GAAIvM,UAAU,aADjF,IACqG,mDAErG,4BAAQA,UAAU,sDAAsDyM,QAAS,kBAAM,EAAKG,uBAC1F,0BAAM5M,UAAU,QAAO,kBAAC,IAAD,CAAMqM,KAAMQ,IAAWN,KAAM,GAAIvM,UAAU,aADpE,IACwF,sDAOzF,S,GA5DwBa,IAAMC,WCoJ1BgM,E,kDArJb,WAAYxN,GAAQ,IAAD,8BACjB,cAAMA,IACDE,MAAQ,CACXiG,MAAOnG,EAAMmG,OAHE,E,+DAOA8E,EAAWC,GACxBA,EAAU/E,QAAU/G,KAAKY,MAAMmG,OACjC/G,KAAKmB,SAAS,CAAE4F,MAAO/G,KAAKY,MAAMmG,U,kCAI1B6B,EAAMyF,GAChB,GAAKzF,EAAL,CACA,IAAMf,EAAOvF,OAAOC,KAAKqG,GAAML,KAAI,SAAC+F,EAAGxG,GACrC,OAAKc,EAAK0F,GAGR,wBAAI5L,IAAK2L,EAAY,IAAMvG,GACzB,4BAAKwG,GACL,4BAAK1F,EAAK0F,KALO,QAUvB,OACE,2BAAOhN,UAAU,yDACf,+BACGuG,O,iCAMEe,EAAMyF,GAAY,IAAD,OACpBxG,EAAOe,EAAKL,KAAI,SAACgG,EAAOzG,GAC5B,OACE,yBAAKxG,UAAU,YAAYoB,IAAG,UAAK2L,EAAL,YAAkBvG,IAC9C,yBAAKxG,UAAU,iCACb,uBAAGA,UAAS,oCAA+BiN,EAAMC,KAAKC,UAAY,UAAY,aAC5ExM,cAAY,WACZe,KAAI,oBAAeqL,EAAf,YAA4BvG,IAC/ByG,EAAMjN,YAGX,yBAAKA,UAAU,WAAWjB,GAAE,mBAAcgO,EAAd,YAA2BvG,IACrD,yBAAKxG,UAAU,2BACZ,EAAK0H,YAAYuF,EAAMC,KAAvB,mBAAyCH,EAAzC,YAAsDvG,EAAtD,gBAOX,OACE,6BACGD,K,qCAKQd,GACb,IAAMC,EAAM,IAAIjC,EAEhB,OAAIgC,GAASzE,OAAOC,KAAKwE,GAAOiB,OAAS,EAChC,CACL,KAAQjB,EAAMA,MAAME,KACpB,YAAeF,EAAMlC,YACrB,iBAAkB,IAAIK,KAAK6B,EAAMK,gBAAgBsH,iBACjD,eAAgB3H,EAAMG,aAAe,IAAIhC,KAAK6B,EAAMG,cAAcwH,iBAAmB,KACrF,SAAY3H,EAAMG,aAAeF,EAAIK,YAAYN,EAAMK,eAAgBL,EAAMG,cAAgB,MAG1F,K,yCAGUH,GACjB,GAAIA,GAASzE,OAAOC,KAAKwE,GAAOiB,OAAS,EAAG,CAC1C,IAAM2G,EAAS3O,KAAK4O,YAAY7H,EAAM8H,UAAUF,QAChD,OAAO,aACL,KAAQ5H,EAAM8H,UAAU5H,MACrB0H,GAGP,MAAO,K,sCAGO5H,GAAQ,IAAD,OACrB,OAAIA,GAASzE,OAAOC,KAAKwE,GAAOiB,OAAS,EAChCjB,EAAMA,MAAM4H,OAAOG,OAAOvG,KAAI,SAAAgG,GACnC,IAAMI,EAAS,EAAKC,YAAYL,EAAMI,QACtC,MAAO,CACL,UAAaJ,EAAMQ,WACnB,KAAO,aAEL,cAAeR,EAAMI,OAAOK,kBAAb,WAAqCC,OAAOV,EAAMI,OAAOK,mBAAzD,KAAiF,MAC7FL,OAKJ,K,kCAGGA,GACV,IAAKA,EAAQ,MAAO,GAEpB,IAAMO,EAAO,CACX,GAAM,gBACN,MAAS,aAGX,OAAO5M,OAAOC,KAAKoM,GAAQjC,QAAO,SAACC,EAAKjK,GAEtC,GAA2B,kBAAhBiM,EAAOjM,IACO,mBAAhBiM,EAAOjM,IACS,kBAAhBiM,EAAOjM,GAAmB,OAAOiK,EAG1C,IAAIwC,EAASzM,EAAI0M,QAAQ,IAAK,KAAKA,QAAQ,eAAe,SAAAC,GAAC,OAAIA,EAAEC,iBAKjE,OADA3C,EAFAwC,EAASA,EAAOI,sBAAuBL,EAAOA,EAAKC,EAAOI,qBAAuBJ,GAEnEF,OAAON,EAAOjM,IACrBiK,IACN,M,+BAGK,IAAD,OACC5F,EAAU/G,KAAKc,MAAfiG,MACR,OACE,yBAAKzF,UAAU,sBACb,yBAAKA,UAAU,qDACb,wBAAIA,UAAU,QAAd,SACA,kBAAC,EAAD,CAAsByF,MAAOA,GAAgB,GAAI2G,aAAc,SAAAhH,GAAC,OAAI,EAAKvF,SAASuF,OAEnF1G,KAAKgJ,YAAYhJ,KAAKwP,eAAezI,GAAQ,SAE9C,wBAAIzF,UAAU,QAAd,UACCtB,KAAKyP,WAAWzP,KAAK0P,gBAAgB3I,GAAQ,UAE9C,wBAAIzF,UAAU,QAAd,aACCtB,KAAKgJ,YAAYhJ,KAAK2P,mBAAmB5I,GAAQ,kB,GAhJ9B5E,IAAMC,WCAlC,SAASwN,EAAuBhP,GAC9B,OACE,yBAAKU,UAAS,8BAAyBV,EAAMgG,KAAO,GAAK,WAAzD,4E,IA4EWiJ,E,kDArEb,WAAYjP,GAAQ,IAAD,8BACjB,cAAMA,IACDE,MAAQ,CACXgP,4BAA4B,GAHb,E,8LAQX1H,EAAM,IAAI7D,E,SACG6D,EAAI2H,aAAa/P,KAAKY,MAAMP,I,OAClC,M,OACXL,KAAKmB,SAAS,CAAE2O,4BAA4B,IAE5C7C,I,0IAIW,IAAD,OACZ,OACE,yBAAK3L,UAAU,aAAajB,GAAG,uBAAuB2P,SAAS,MAC7D,yBAAK1O,UAAU,sCACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,gBACb,wBAAIA,UAAU,eAAd,WACA,4BAAQU,KAAK,SAASV,UAAU,QAAQ2O,eAAa,WAEvD,yBAAK3O,UAAU,cAAf,wCAGA,yBAAKA,UAAU,gBACb,4BAAQU,KAAK,SAASV,UAAU,oBAAoB2O,eAAa,SAAjE,SACA,4BACEjO,KAAK,SACLV,UAAU,kBACV2O,eAAa,QACblC,QAAS,kBAAM,EAAKmC,6BAJtB,c,+BAeV,OACE,6BACE,yBAAK5O,UAAU,yBACb,yBAAKA,UAAU,qDACb,kBAAC,EAAD,MACA,4BACEA,UAAU,iBACVW,cAAY,QACZC,cAAY,wBACZiO,SAAUnQ,KAAKc,MAAMgP,4BAJvB,mBAUJ,kBAACF,EAAD,CAAwBhJ,KAAM5G,KAAKc,MAAMgP,6BAExC9P,KAAKoQ,YAAY,wB,GAhEEjO,IAAMC,WCmHnBiO,G,yDApHb,WAAYC,GAAS,IAAD,8BAClB,cAAMA,IACDA,OAAS,CACZjQ,GAAIiQ,EAAOC,MAAMD,OAAOjQ,IAE1B,EAAKS,MAAQ,CACX8H,KAAM,KACNhB,aAAa,GAEf,EAAKa,OAAS,KACd,EAAK1B,MAAQ,KAVK,E,qLAcZqB,EAAM,IAAI7D,E,SACM6D,EAAIoI,WAAWxQ,KAAKsQ,OAAOjQ,I,OAA3CoQ,E,OACAC,EAAS,IAAI1E,EACb2E,EAAgBD,EAAOE,MAAMH,GAEnCzQ,KAAKmB,SAAS,CACZyH,KAAM+H,EACN/I,aAAa,I,yIAIJiJ,GACX,IAAMC,EAAU9Q,KAAKc,MAAM8H,KAC3B,GAAKkI,EAAL,CAKA,IAAMvO,EAAOD,OAAOC,KAAKsO,EAAQtE,SAEjCuE,EAAQtH,SAAS/G,SAAQ,SAAAuK,GACnBzK,EAAKwO,SAAS/D,EAAQd,QACxBc,EAAQpE,KAAKT,KAAK0I,EAAQtE,QAAQS,EAAQd,WAI9C4E,EAAQvH,OAAOpB,KAAK0I,EAAQ9D,OAE5B/M,KAAKmB,SAAS,CACZyH,KAAK,eAAMkI,GACXlJ,aAAa,SAhBb5H,KAAKgR,c,0KAqBPhR,KAAKyI,OAASC,KAAG,IAAInE,GAAYlB,YACjCrD,KAAKyI,OAAOE,GAAZ,kBAA0B3I,KAAKsQ,OAAOjQ,KAAM,SAACuI,GAC3CqI,QAAQC,IAAI,cAAetI,GAC3B,EAAKuI,aAAavI,MAEpB5I,KAAKyI,OAAOE,GAAZ,mBAA2B3I,KAAKsQ,OAAOjQ,IAAvC,uCAA6C,WAAOuI,GAAP,iBAAAwI,EAAA,yDAC9B,QAATxI,EADuC,uBAEnCR,EAAM,IAAI7D,EAFyB,SAGrB6D,EAAIqF,SAAS,EAAK6C,OAAOjQ,IAHJ,OAGnC0G,EAHmC,OAIzC,EAAK5F,SAAS,CAAE4F,UAJyB,2CAA7C,kCAAA/G,KAAA,gBAQMoI,EAAM,IAAI7D,E,SACI6D,EAAIqF,SAASzN,KAAKsQ,OAAOjQ,I,OAAvC0G,E,OACN/G,KAAKmB,SAAS,CAAE4F,QAAOa,aAAa,IAEpC5H,KAAKgR,Y,mJAILhR,KAAKyI,OAAOI,U,+BAGJ,IAAD,OACDwI,EAAsB,SAACC,GAC3B,GAAIA,EACF,OAAO,kBAAC,EAAD,CAAejR,GAAI,EAAKiQ,OAAOjQ,MAI1C,OAAIL,KAAKc,MAAM8G,YAEX,oCACE,kBAAC,EAAD,MACA,yBAAKtG,UAAU,+EAA+EwH,MAAO,CAAEC,UAAW,UAChH,kBAAC,EAAD,QAON,oCACE,kBAAC,EAAD,MACA,yBAAKzH,UAAU,0CACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,0EACb,kBAAC,EAAD,CAAOsH,KAAM5I,KAAKc,MAAM8H,QAE1B,yBAAKtH,UAAU,yDAAf,IACE,yBAAKA,UAAU,QACZ+P,EAAoBrR,KAAKc,MAAMiG,QAAU/G,KAAKc,MAAMiG,MAAMG,cAC3D,kBAAC,EAAD,CAAeH,MAAO/G,KAAKc,MAAMiG,UAGrC,yBAAKzF,UAAU,qCAAf,IACG+P,EAAoBrR,KAAKc,MAAMiG,QAAU/G,KAAKc,MAAMiG,MAAMG,cAC3D,kBAAC,EAAD,CAAeH,MAAO/G,KAAKc,MAAMiG,gB,GA5GtB5E,IAAMC,Y,QCHhBmP,E,mKALRC,EAAUC,GACb,OAAOzR,KAAK0E,KAAK,cAAe,CAAE8M,WAAUC,aAAYtN,MAAK,SAAAC,GAAG,OAAIA,EAAIK,c,GAFrDtB,GCYRuO,E,uKAVX,IAAM1P,EAAOhC,KAAKY,MAAMoB,KAAX,gBAA2BhC,KAAKY,MAAMoB,MAAS,GACtD2P,EAAU3R,KAAKY,MAAMU,WAAa,GACxC,OACE,yBAAKA,UAAS,gBAAWU,EAAX,YAAmB2P,IAC9B3R,KAAKY,MAAMgR,a,GANGzP,IAAMC,WC+GdyP,E,kDAxGb,WAAYjR,GAAQ,IAAD,8BACjB,cAAMA,IACDE,MAAQ,CACX0Q,SAAU,GACVC,SAAU,GACVK,SAAS,EACTC,SAAU,KACVnO,SAAU,MAPK,E,yDAWNoO,GACXhS,KAAKmB,SAAL,eACG6Q,EAAEC,OAAOhL,KAAO+K,EAAEC,OAAOC,U,4EAIXF,G,oFACjBA,EAAEG,kBAEEnS,KAAKc,MAAMgR,Q,sDAEgB9R,KAAKc,MAA5B0Q,E,EAAAA,SAAUC,E,EAAAA,SACZrJ,EAAM,IAAImJ,GAEZC,IAAYC,E,wBACdzR,KAAKmB,SAAS,CAAE2Q,SAAS,I,SACL1J,EAAIgK,KAAKZ,EAAUC,G,QAAjCxR,E,QACIoS,UACF/O,EAAgB,IAAIxD,GACZwS,UAAUrS,EAAMsS,QAC9BjP,EAAckP,SAASvS,EAAMA,OAC7BqD,EAAcmP,mBAAmBxS,EAAMyS,aACvC1S,KAAKmB,SAAS,CAAEyC,SAAU,OAE1B5D,KAAKmB,SAAS,CACZ4Q,SAAU,kBAAC,EAAD,CAAU/P,KAAK,SAAS4P,QAAS3R,EAAM2R,UACjDE,SAAS,I,uIAMP,IAAD,OACP,GAAI9R,KAAKc,MAAM8C,SACb,OACE,kBAAC,IAAD,CAAUrC,OAAK,EAACC,GAAIxB,KAAKc,MAAM8C,WAH5B,MAO2C5D,KAAKc,MAA/C0Q,EAPD,EAOCA,SAAUC,EAPX,EAOWA,SAAUM,EAPrB,EAOqBA,SAAUD,EAP/B,EAO+BA,QAEhCa,EAAgB,WACpB,OACE,4BAAQrR,UAAU,6BAA6BU,KAAK,SAASmO,UAAQ,GACnE,0BAAM7O,UAAU,qCADlB,gBAKEsR,EAAe,WACnB,OACE,4BAAQtR,UAAU,6BAA6BU,KAAK,UAApD,WAMJ,OACE,0BAAM6Q,SAAU,SAAAb,GAAC,OAAI,EAAKc,aAAad,KACpCD,EACD,yBAAKzQ,UAAU,mBACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,oBAAmB,kBAAC,IAAD,CAAMqM,KAAMoF,IAAYlF,KAAM,OAElE,2BAAOvM,UAAU,eACfU,KAAK,OACLgR,YAAY,WACZ/L,KAAK,WACLiL,MAAOV,EACPyB,SAAU,SAACjB,GAAD,OAAO,EAAKkB,aAAalB,QAGzC,yBAAK1Q,UAAU,cACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,oBAAmB,kBAAC,IAAD,CAAMqM,KAAMwF,IAAQtF,KAAM,OAE9D,2BAAOvM,UAAU,eACfU,KAAK,WACLgR,YAAY,WACZ/L,KAAK,WACLiL,MAAOT,EACPwB,SAAU,SAACjB,GAAD,OAAO,EAAKkB,aAAalB,QAGzC,yBAAK1Q,UAAU,cACZwQ,EAAU,kBAACa,EAAD,MAAoB,kBAACC,EAAD,Y,GAlGjBzQ,IAAMC,WCyBfgR,E,uKA3BX,OACE,oCACE,kBAAC,EAAD,MACA,yBAAK9R,UAAU,+EAA+EwH,MAAO,CAAEC,UAAW,UAChH,yBAAKzH,UAAU,OAAOwH,MAAO,CAAEuK,SAAU,UAKvC,yBAAK/R,UAAU,cAAcwH,MAAO,CAClCwK,gBAAgB,QAAD,OAAU1R,YAAV,gCACf2R,iBAAkB,YAClBC,mBAAoB,SACpBpH,gBAAiB,UAEjB,wBAAI9K,UAAU,mBAAd,UAEF,yBAAKA,UAAU,aACb,kBAAC,EAAD,c,GApBWa,IAAMC,WCchBqR,E,kDAbb,WAAY7S,GAAQ,IAAD,6BACjB,cAAMA,IACgB,IAAId,GACZ4T,YAHG,E,qDAOjB,OACE,kBAAC,IAAD,CAAUnS,OAAK,EAACC,GAAG,U,GATCW,IAAMC,WCkBjBuR,MAdf,WACE,OACE,yBAAKrS,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACoM,KAAK,IAAIiG,UAAWvR,IACjC,kBAAC,IAAD,CAAOsL,KAAK,UAAUiG,UAAWlM,IACjC,kBAAC,IAAD,CAAOiG,KAAK,aAAaiG,UAAWvD,IACpC,kBAAC,IAAD,CAAO1C,KAAK,SAASiG,UAAWR,IAChC,kBAAC,IAAD,CAAOzF,KAAK,UAAUiG,UAAWH,OCJrBzS,QACW,cAA7B2B,OAAOwK,SAAS0G,UAEe,UAA7BlR,OAAOwK,SAAS0G,UAEhBlR,OAAOwK,SAAS0G,SAAStD,MACvB,2D,OCXNuD,IAASC,OAAO,kBAAC,IAAD,CAAYC,SAAS,KAAI,kBAAC,EAAD,OAAsB5K,SAASC,eAAe,SD4HjF,kBAAmB4K,WACrBA,UAAUC,cAAcC,MAAMhQ,MAAK,SAAAiQ,GACjCA,EAAaC,iB","file":"static/js/main.f3e724ce.chunk.js","sourcesContent":["class UserSingleton {\n  constructor() {\n    if (!!UserSingleton.instance) {\n      return UserSingleton.instance;\n    }\n\n    // autoload data from local storage\n    this.token = localStorage.getItem('user_token');\n    this.expiration = localStorage.getItem('user_token_expitarion');\n    this.id = localStorage.getItem('user_id');\n    this.loginListener = () => { };\n    this.logoutListener = () => { };\n\n    UserSingleton.instance = this;\n    return this;\n  }\n\n  getToken() {\n    return this.token;\n  }\n\n  setToken(token) {\n    this.token = token;\n    localStorage.setItem('user_token', token);\n    this.loginListener();\n  }\n\n  getTokenExpiration() {\n    return this.expiration;\n  }\n\n  setTokenExpiration(expiration) {\n    this.expiration = expiration;\n    localStorage.setItem('user_token_expiration', expiration);\n  }\n\n  getUserId() {\n    return this.id;\n  }\n\n  setUserId(id) {\n    this.id = id;\n    localStorage.setItem('user_id', id);\n  }\n\n  clearData() {\n    this.id = null;\n    this.expiration = null;\n    this.token = null;\n    localStorage.removeItem('user_id');\n    localStorage.removeItem('user_token');\n    localStorage.removeItem('user_token_expiration');\n    this.logoutListener();\n  }\n\n  addLoginListener(listener) {\n    this.loginListener = listener;\n  }\n\n  addLogoutListener(listener) {\n    this.logoutListener = listener;\n  }\n}\n\nexport default UserSingleton;\n","import React from 'react';\nimport { NavLink, Link } from 'react-router-dom';\nimport UserSingleton from '../helpers/UserSingleton';\n\nclass Navbar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const us = new UserSingleton();\n    this.state = {\n      showLoginButton: !Boolean(us.getToken())\n    };\n    us.addLoginListener(() => this.setState({ showLoginButton: false }));\n    us.addLogoutListener(() => this.setState({ showLoginButton: true }));\n  }\n\n  render() {\n    const LoginButton = () => {\n      return (\n        <li className=\"nav-item\">\n          <NavLink exact to=\"/login\" className=\"nav-link\" activeClassName=\"active\">Login</NavLink>\n        </li>\n      );\n    };\n\n    const LogoutButton = () => {\n      return (\n        <li className=\"nav-item\">\n          <NavLink exact to=\"/logout\" className=\"nav-link\" activeClassName=\"active\">Logout</NavLink>\n        </li>\n      );\n    };\n\n    return (\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <Link to=\"/\" className=\"navbar-brand\">\n          <img src={process.env.PUBLIC_URL + '/img/data_science_icon.svg'} width=\"45\" height=\"45\" alt=\"\" />\n          <span className=\"ml-2\">Fitsbook</span>\n        </Link>\n\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <NavLink exact to=\"/\" className=\"nav-link\" activeClassName=\"active\">Home</NavLink>\n            </li>\n            <li className=\"nav-item\">\n              <NavLink exact to=\"/models\" className=\"nav-link\" activeClassName=\"active\">Models</NavLink>\n            </li>\n            {this.state.showLoginButton ? <LoginButton /> : <LogoutButton />}\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nNavbar.showLoginButton = false;\n\nexport default Navbar;","import React from 'react';\nimport './HomeRoute.css';\nimport Navbar from './Navbar';\n\nclass HomeRoute extends React.Component {\n  // eslint-disable-next-line\n  constructor(props) {\n    super(props);\n  }\n\n  // Bootstrap tooltips\n  loadTooltips() {\n    Object.keys(this.refs).forEach(key => {\n      window.$(this.refs[key]).tooltip();\n    })\n  }\n\n  componentDidMount() {\n    this.loadTooltips();\n  }\n\n  render() {\n    const root = process.env.PUBLIC_URL;\n\n    return (\n      <>\n        <Navbar />\n        <div className=\"HomeRoute container mt-5\">\n          <div className=\"d-flex justify-content-center align-items-center\">\n            <img src={root + '/img/data_science_icon_square_black.svg'} height=\"65px\" alt=\"\" />\n            <span className=\"display-4 font-weight-bold ml-3\">Fitsbook</span>\n          </div>\n\n          <div className=\"mt-5 pt-3 description d-flex\">\n            <span className=\"text-center\">\n              Tool for generating real-time machine learning training statistics and storing model histories.\n              Direct integration with Keras Framework.\n          </span>\n          </div>\n\n          <div className=\"mt-5 pt-3\">\n            <h5>Made With</h5>\n            <div className=\"alert alert-secondary logos d-flex flex-row flex-wrap justify-content-around align-items-center mt-2 py-2\">\n              <a href=\"https://reactjs.org/\" ref=\"0\" data-toggle=\"tooltip\" title=\"React\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_react.svg'} alt=\"React\" />\n              </a>\n              <a href=\"https://getbootstrap.com/\" ref=\"1\" data-toggle=\"tooltip\" title=\"Bootstrap\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_bootstrap4.svg'} alt=\"Bootstrap\" />\n              </a>\n              <a href=\"https://www.chartjs.org/\" ref=\"8\" data-toggle=\"tooltip\" title=\"Chartjs\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_chartjs.svg'} alt=\"Chartjs\" />\n              </a>\n              <a href=\"https://www.sqlite.org/index.html\" ref=\"2\" data-toggle=\"tooltip\" title=\"SqLite\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_sqlite.svg'} alt=\"Sqlite\" />\n              </a>\n              <a href=\"https://socket.io/\" ref=\"7\" data-toggle=\"tooltip\" title=\"Socket.io\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_socketio.svg'} alt=\"Socket.io\" />\n              </a>\n              <a href=\"https://expressjs.com/\" ref=\"3\" data-toggle=\"tooltip\" title=\"Express\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_express.svg'} alt=\"Express\" />\n              </a>\n              <a href=\"https://keras.io/\" ref=\"6\" data-toggle=\"tooltip\" title=\"Keras\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_keras.jpg'} alt=\"Keras\" />\n              </a>\n            </div>\n          </div>\n\n          <div className=\"mt-5\">\n            <h5>Powered By</h5>\n            <div className=\"alert alert-secondary logos d-flex flex-row flex-wrap justify-content-around align-items-center mt-2 py-2\">\n              <a href=\"https://pages.github.com/\" ref=\"4\" data-toggle=\"tooltip\" title=\"Github Pages\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_ghpages.png'} alt=\"Github Pages\" />\n              </a>\n              <a href=\"https://glitch.com/\" ref=\"5\" data-toggle=\"tooltip\" title=\"Glitch.me\">\n                <img className=\"mx-3 my-2\" src={root + '/img/logo_glitch.svg'} alt=\"Glitch.me\" />\n              </a>\n            </div>\n          </div>\n\n          <div className=\"mt-5\">\n            <h5>Open Source</h5>\n            <div className=\"alert alert-secondary repos d-flex flex-row flex-wrap justify-content-around align-items-center mt-2 py-2\">\n              <a className=\"d-flex flex-row align-items-center my-2\" href=\"https://github.com/nmcardoso/fitsbook\">\n                <img className=\"pr-2\" width=\"30px\" height=\"30px\" src={root + '/img/logo_github.svg'} alt=\"Github\" /> WebApp Repo\n            </a>\n              <a className=\"d-flex flex-row align-items-center my-2\" href=\"https://github.com/nmcardoso/fitsbook-server\">\n                <img className=\"pr-2\" width=\"30px\" height=\"30px\" src={root + '/img/logo_github.svg'} alt=\"Github\" /> API Repo\n            </a>\n              <a className=\"d-flex flex-row align-items-center my-2\" href=\"https://github.com/nmcardoso/fitsbook-python\">\n                <img className=\"pr-2\" width=\"30px\" height=\"30px\" src={root + '/img/logo_github.svg'} alt=\"Github\" /> Python Library Repo\n            </a>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default HomeRoute;","import UserSingleton from \"../helpers/UserSingleton\";\n\nclass Api {\n  // API_ROOT = (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') ?\n  // 'https://localhost:8000/api' : 'https://fitsbook.glitch.me/api';\n\n  constructor() {\n    // this.API_ROOT = 'https://fitsbook.glitch.me/api';\n    this.API_ROOT = (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') ?\n      'http://localhost:8000/api' : 'https://fitsbook.glitch.me/api';\n    this.SOCKET_URL = (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') ?\n      'http://localhost:8000' : 'https://fitsbook.glitch.me';\n  }\n\n  _getAuthHeaders() {\n    const userSingleton = new UserSingleton();\n    return {\n      'X-Fitsbook-Token': userSingleton.getToken(),\n      'X-Fitsbook-UID': userSingleton.getUserId()\n    };\n  }\n\n  get(route) {\n    const init = {\n      method: 'GET',\n      mode: 'cors',\n      redirect: 'follow',\n      headers: this._getAuthHeaders()\n    };\n\n    return fetch(`${this.API_ROOT}${route}`, init);\n  }\n\n  post(route, body = {}) {\n    const init = {\n      method: 'POST',\n      mode: 'cors',\n      redirect: 'follow',\n      headers: {\n        'Content-Type': 'application/json',\n        ...this._getAuthHeaders()\n      },\n      body: JSON.stringify(body)\n    };\n\n    return fetch(`${this.API_ROOT}${route}`, init);\n  }\n\n  delete(route) {\n    const init = {\n      method: 'DELETE',\n      mode: 'cors',\n      redirect: 'follow',\n      headers: this._getAuthHeaders()\n    }\n\n    return fetch(`${this.API_ROOT}${route}`, init);\n  }\n\n  ping() {\n    fetch(`${this.API_ROOT}/ping`).then(res => res.text()).then(txt => {\n      if (txt) return true;\n      else return false;\n    });\n  }\n}\n\nexport default Api;","import Api from './Api';\n\nclass ModelsApi extends Api {\n  getModels() {\n    return this.get('/models').then(res => res.json());\n  }\n\n  getModelsList() {\n    return this.get('/models/list').then(res => res.json());\n  }\n\n  getModel(id) {\n    return this.get(`/model/${id}`).then(res => res.json());\n  }\n\n  getHistory(id) {\n    return this.get(`/history/${id}`).then(res => res.json());\n  }\n\n  stopTraining(id) {\n    return this.post(`/training/${id}/stop`).then(res => res.status);\n  }\n\n  deleteModel(id) {\n    return this.delete(`/model/${id}`).then(res => res.status);\n  }\n\n  updateDescription(id, description) {\n    return this.post(`/model/${id}/description`, description).then(res => res.status);\n  }\n}\n\nexport default ModelsApi;","import React from 'react';\n\nclass TrainingLabel extends React.Component {\n  render() {\n    return (\n      <div>\n        <span className=\"spinner-grow spinner-grow-sm text-success\"></span>\n        <span className=\"text-success ml-1\">Training</span>\n      </div>\n    );\n  }\n}\n\nexport default TrainingLabel;","class DateTimeHelper {\n  formatDate(timestamp) {\n    const date = new Date(timestamp);\n    const day = ('0' + date.getDate()).slice(-2);\n    const month = ('0' + date.getMonth()).slice(-2);\n    const year = ('0' + date.getFullYear()).slice(-2);\n    const hours = ('0' + date.getHours()).slice(-2);\n    const minutes = ('0' + date.getMinutes()).slice(-2);\n    const seconds = ('0' + date.getSeconds()).slice(-2);\n\n    return `${day}/${month}/${year} - ${hours}:${minutes}:${seconds}`;\n  }\n\n  timeSince(timestamp) {\n    const yearInSeconds = 31536000;\n    const monthInSeconds = 2592000;\n    const dayInSeconds = 86400;\n    const hourInSeconds = 3600;\n    const minuteInSeconds = 60;\n    const seconds = Math.floor((Date.now() - timestamp) / 1000);\n\n    let interval = Math.floor(seconds / yearInSeconds);\n    if (interval >= 1) {\n      return interval + ' years ago';\n    }\n\n    interval = Math.floor(seconds / monthInSeconds);\n    if (interval >= 1) {\n      return interval + ' months ago';\n    }\n\n    interval = Math.floor(seconds / dayInSeconds);\n    if (interval >= 1) {\n      return interval + ' days ago';\n    }\n\n    interval = Math.floor(seconds / hourInSeconds);\n    if (interval >= 1) {\n      return interval + ' hours ago';\n    }\n\n    interval = Math.floor(seconds / minuteInSeconds);\n    if (interval >= 1) {\n      return interval + ' minutes ago';\n    }\n\n    return Math.floor(seconds) + ' seconds ago';\n  }\n\n  elapsedTime(start, end) {\n    const delta = Math.abs((end - start) / 1000);\n    const days = Math.floor(delta / 86400);\n    const hours = Math.floor(delta / 3600) % 24;\n    const minutes = Math.floor(delta / 60) % 60;\n    const seconds = Math.round(delta % 60);\n\n    let s = days > 0 ? days + ' days, ' : '';\n    s += hours > 0 ? hours + 'h, ' : '';\n    s += minutes > 0 ? minutes + 'min, ' : '';\n    s += seconds > 0 ? seconds + 's' : '';\n    return s;\n  }\n}\n\nexport default DateTimeHelper;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport TrainingLabel from './TrainingLabel';\nimport DateTimeHelper from './../helpers/DateTimeHelper';\nimport './ModelCard.css';\n\nfunction DurationLabel(props) {\n  if (props.show) {\n    return (\n      <div className=\"d-inline\">\n        <span className=\"text-muted font-weight-bold text-uppercase\"> Duration: </span>\n        {props.duration}\n      </div>\n    );\n  }\n  return null;\n}\n\nclass ModelCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props = props;\n  }\n\n  render() {\n    const { id, model } = this.props;\n    const dth = new DateTimeHelper();\n\n    return (\n      <div className=\"ModelCard\">\n        <Link to={`/stats/${id}`}>\n          <div className={`card ${this.props.className}`}>\n            <div className=\"card-body\">\n              <div className=\"d-flex justify-content-between\">\n                <h5 className=\"card-title\">\n                  {model.name}\n                </h5>\n                {!model.training_end && <TrainingLabel />}\n              </div>\n              <small className=\"d-block card-text\">\n                <span className=\"text-muted font-weight-bold text-uppercase\">Started: </span>\n                {dth.timeSince(model.training_start)} &#x2022;\n              <DurationLabel show={model.training_end} duration={dth.elapsedTime(model.training_start, model.training_end)} />\n              </small>\n            </div>\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default ModelCard;","import React from 'react';\nimport './Spinner.css';\n\nclass Spinner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false\n    }\n    this.intervalId = setInterval(() => {\n      this.setState({ show: true });\n    }, 400);\n  }\n\n  componentWillUnmount() {\n    if (this.intervalId !== null) {\n      clearInterval(this.intervalId);\n    }\n  }\n\n  render() {\n    return (\n      this.state.show && <div className=\"spinner\"></div>\n    );\n  }\n}\n\nexport default Spinner;","import React from 'react';\nimport io from 'socket.io-client';\nimport ModelsApi from '../api/ModelsApi';\nimport ModelCard from './ModelCard';\nimport Spinner from './Spinner';\nimport Navbar from './Navbar';\n\nclass ModelsRoute extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cards: [],\n      showSpinner: true\n    };\n  }\n\n  createTable(cards) {\n    const rows = [];\n\n    for (let i = 0; i < Math.ceil(cards.length / 2.0); i++) {\n      const cols = [];\n\n      for (let j = 0; j < 2 && 2 * i + j < cards.length; j++) {\n        cols.push(\n          <div key={`e-${i}-${j}`} className=\"col-md-6\">\n            {cards[2 * i + j]}\n          </div>\n        );\n      }\n\n      rows.push(\n        <div key={`e-${i}`} className=\"row\">\n          {cols}\n        </div>\n      );\n    }\n\n    return rows;\n  }\n\n  async loadModels() {\n    const api = new ModelsApi();\n    const models = await api.getModelsList();\n\n    const cards = models.map(model => {\n      return (\n        <ModelCard key={model.id} id={model.id} model={model} className=\"mb-2\" />\n      );\n    });\n\n    this.setState({\n      cards: cards,\n      showSpinner: false\n    });\n  }\n\n  async componentDidMount() {\n    await this.loadModels();\n    this.socket = io(new ModelsApi().SOCKET_URL);\n    this.socket.on('models', data => {\n      if (data === 'new') {\n        this.loadModels();\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    this.socket.close();\n  }\n\n  render() {\n    if (this.state.showSpinner) {\n      return (\n        <>\n          <Navbar />\n          <div className=\"container flex-grow-1 d-flex align-items-center justify-content-center\" style={{ marginTop: '-42px' }}>\n            <Spinner />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <>\n        <Navbar />\n        <div className=\"container mt-5\">\n          {this.createTable(this.state.cards)}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ModelsRoute;","import React from 'react';\nimport ChartJS from 'chart.js';\nimport './Chart.css';\nimport 'chartjs-plugin-zoom';\n\nclass Chart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.chart = null;\n  }\n\n  componentDidMount() {\n    const ctx = document.getElementById('react-chart');\n    this.chartConfig = {\n      type: 'line',\n      data: {\n        labels: [],\n        datasets: []\n      },\n      options: {\n        title: {\n          display: true,\n          text: 'Metrics per Epoch'\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: false,\n              fontColor: '#333'\n            },\n            scaleLabel: {\n              display: false,\n              labelString: 'Metric'\n            }\n          }],\n          xAxes: [{\n            ticks: {\n              fontColor: '#333'\n            },\n            scaleLabel: {\n              display: true,\n              labelString: 'Epoch'\n            }\n          }]\n        },\n        elements: {\n          point: {\n            radius: 1,\n            hoverRadius: 4,\n            hitRadius: 5\n          }\n        },\n        tooltips: {\n          intersect: false,\n          mode: 'index',\n          axis: 'x',\n          position: 'nearest'\n        },\n        aspectRatio: 1.75,\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          zoom: {\n            pan: {\n              enabled: true,\n              mode: 'x',\n              rangeMin: {\n                x: 0\n              },\n              rangeMax: {\n                x: null\n              },\n              speed: 10\n            },\n            zoom: {\n              enabled: true,\n              drag: false,\n              mode: 'x',\n              rangeMin: {\n                x: 0\n              },\n              rangeMax: {\n                x: null\n              },\n              speed: 20,\n              sensitivity: .05\n            }\n          }\n        }\n      }\n    };\n\n    this.chartInstance = new ChartJS(ctx, this.chartConfig);\n    ctx.addEventListener('dblclick', () => this.chartInstance.resetZoom())\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.data) {\n      this.chartConfig.data.labels = this.props.data.labels;\n      this.chartConfig.data.datasets = this.props.data.datasets;\n      this.chartInstance.update();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"ChartWrapper\">\n        <canvas id=\"react-chart\" />\n      </div>\n    );\n  }\n}\n\nexport default Chart;\n","class HistoryParser {\n  constructor() {\n    this.colors = [\n      'rgb(75, 192, 192)',\n      'rgb(255, 99, 132)',\n      'rgb(153, 102, 255)',\n      'rgb(255, 159, 64)',\n      'rgb(255, 205, 86)',\n      'rgb(54, 162, 235)',\n      'rgb(201, 203, 207)'\n    ];\n    this.datasets = [];\n  }\n\n  createDatasetArray(keys) {\n    return keys.map((key, i) => {\n      return {\n        label: key,\n        data: [],\n        borderColor: this.colors[i],\n        backgroundColor: this.colors[i],\n        fill: false,\n        lineTension: 0\n      };\n    });\n  }\n\n  parse(data) {\n    if (this.datasets.length === 0) {\n      if (data.length > 0) {\n        const keys = Object.keys(data[0].metrics);\n        this.datasets = this.createDatasetArray(keys);\n      } else {\n        return;\n      }\n    }\n\n    // { metric1: [ ... ], metric2: [ ... ], ... }\n    const metricsObj = data.reduce((acc, curr) => {\n      Object.keys(curr.metrics).forEach(metric => {\n        if (metric in acc) {\n          acc[metric].push(curr.metrics[metric]);\n        } else {\n          acc[metric] = [curr.metrics[metric]];\n        }\n      })\n      return acc;\n    }, {});\n\n    const labels = data.map(r => {\n      return r.epoch + 1;\n    })\n\n    this.datasets.forEach(dataset => {\n      if (dataset.label in metricsObj) {\n        dataset.data = metricsObj[dataset.label]\n      }\n    });\n\n    return {\n      labels: labels,\n      datasets: this.datasets\n    };\n  }\n}\n\nexport default HistoryParser;\n","function UnauthorizedAlert() {\n  if (window.confirm('Unauthorized Action. Redirect to Login Page?')) {\n    window.location = '/#/login';\n  }\n}\n\nexport default UnauthorizedAlert;","import React from 'react';\nimport ModelsApi from '../api/ModelsApi';\nimport { Redirect } from 'react-router-dom';\nimport Icon from '@mdi/react';\nimport { mdiDotsVertical, mdiPencil, mdiDelete } from '@mdi/js';\nimport UnauthorizedAlert from '../helpers/UnauthorizedAlert';\n\nclass ModelOptionsDropdown extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false\n    };\n  }\n\n  async deleteModelHandler() {\n    if (!window.confirm('Are you sure you want to delete this model?')) return;\n\n    const api = new ModelsApi();\n    const code = await api.deleteModel(this.props.model.id);\n    if (code === 200) {\n      this.setState({ redirect: true });\n    } else {\n      UnauthorizedAlert();\n    }\n  }\n\n  async editModelDescHandler() {\n    const desc = window.prompt('New description', this.props.model.description);\n\n    if (desc !== null) {\n      const api = new ModelsApi();\n      const code = await api.updateDescription(this.props.model.id, { description: desc });\n      if (code === 200) {\n        const model = await api.getModel(this.props.model.id);\n        this.props.updateParent({ model });\n      } else {\n        UnauthorizedAlert();\n      }\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return (\n        <Redirect to=\"/models\" push={true} />\n      );\n    }\n\n    if (this.props.model.id) {\n      return (\n        <div className=\"dropdown\">\n          <div className=\"btn\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\">\n            <Icon path={mdiDotsVertical} size={1} />\n          </div>\n          <div className=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\n            <button className=\"dropdown-item d-inline-flex align-items-center pl-2\" onClick={() => this.editModelDescHandler()}>\n              <span className=\"pr-1 align-middle\"><Icon path={mdiPencil} size={.7} className=\"d-block\" /></span> <span>Edit description</span>\n            </button>\n            <button className=\"dropdown-item d-inline-flex align-items-center pl-2\" onClick={() => this.deleteModelHandler()}>\n              <span className=\"pr-1\"><Icon path={mdiDelete} size={.7} className=\"d-block\" /></span> <span>Delete this model</span>\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    return null;\n  }\n}\n\nexport default ModelOptionsDropdown;","import React from 'react';\nimport './SideModelInfo.css';\nimport ModelOptionsDropdown from './ModelOptionsDropdown';\nimport DateTimeHelper from '../helpers/DateTimeHelper';\n\nclass SideModelInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      model: props.model\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.model !== this.props.model) {\n      this.setState({ model: this.props.model });\n    }\n  }\n\n  createTable(data, keyPrefix) {\n    if (!data) return;\n    const rows = Object.keys(data).map((k, i) => {\n      if (!data[k]) return null;\n\n      return (\n        <tr key={keyPrefix + '-' + i}>\n          <td>{k}</td>\n          <td>{data[k]}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <table className=\"table table-sm table-borderless table-responsive mb-0\">\n        <tbody>\n          {rows}\n        </tbody>\n      </table>\n    );\n  }\n\n  drawLayers(data, keyPrefix) {\n    const rows = data.map((layer, i) => {\n      return (\n        <div className=\"mt-2 px-1\" key={`${keyPrefix}-${i}`}>\n          <div className=\"d-flex justify-content-center\">\n            <a className={`btn btn-block btn-outline-${layer.info.Trainable ? 'primary' : 'secondary'}`}\n              data-toggle=\"collapse\"\n              href={`#collapse-${keyPrefix}-${i}`}>\n              {layer.className}\n            </a>\n          </div>\n          <div className=\"collapse\" id={`collapse-${keyPrefix}-${i}`}>\n            <div className=\"card card-body p-1 mt-2\">\n              {this.createTable(layer.info, `collapse-${keyPrefix}-${i}-info`)}\n            </div>\n          </div>\n        </div>\n      );\n    });\n\n    return (\n      <div>\n        {rows}\n      </div>\n    );\n  }\n\n  parseModelData(model) {\n    const dth = new DateTimeHelper();\n\n    if (model && Object.keys(model).length > 0) {\n      return {\n        'Name': model.model.name,\n        'Description': model.description,\n        'Training Start': new Date(model.training_start).toLocaleString(),\n        'Training End': model.training_end ? new Date(model.training_end).toLocaleString() : null,\n        'Duration': model.training_end ? dth.elapsedTime(model.training_start, model.training_end) : null\n      };\n    }\n    return {};\n  }\n\n  parseOptimizerData(model) {\n    if (model && Object.keys(model).length > 0) {\n      const config = this.parseConfig(model.optimizer.config);\n      return {\n        'Name': model.optimizer.name,\n        ...config\n      };\n    }\n    return {};\n  }\n\n  parseLayersData(model) {\n    if (model && Object.keys(model).length > 0) {\n      return model.model.config.layers.map(layer => {\n        const config = this.parseConfig(layer.config);\n        return {\n          'className': layer.class_name,\n          'info': {\n            // 'Trainable': String(layer.config.trainable),\n            'Input Shape': layer.config.batch_input_shape ? `(${String(layer.config.batch_input_shape)})` : null,\n            ...config,\n          }\n        };\n      });\n    }\n    return [];\n  }\n\n  parseConfig(config) {\n    if (!config) return {};\n\n    const dict = {\n      'lr': 'Learning Rate',\n      'dtype': 'Data Type'\n    }\n\n    return Object.keys(config).reduce((acc, key) => {\n      // Parse only first level, null are object type and will be rejected\n      if (typeof config[key] !== 'string' &&\n        typeof config[key] !== 'boolean' &&\n        typeof config[key] !== 'number') return acc;\n\n      // Replace _ by space and captalize\n      let newKey = key.replace('_', ' ').replace(/(?:^|\\s)\\S/g, c => c.toUpperCase());\n      // Replace key in dict\n      newKey = newKey.toLocaleLowerCase() in dict ? dict[newKey.toLocaleLowerCase()] : newKey;\n      // Convert booleans to string\n      acc[newKey] = String(config[key]);\n      return acc;\n    }, {});\n  }\n\n  render() {\n    const { model } = this.state;\n    return (\n      <div className=\"sideModelInfo mt-2\">\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <h5 className=\"mb-0\">Model</h5>\n          <ModelOptionsDropdown model={model ? model : {}} updateParent={s => this.setState(s)} />\n        </div>\n        {this.createTable(this.parseModelData(model), 'model')}\n\n        <h5 className=\"mt-3\">Layers</h5>\n        {this.drawLayers(this.parseLayersData(model), 'layers')}\n\n        <h5 className=\"mt-3\">Optimizer</h5>\n        {this.createTable(this.parseOptimizerData(model), 'optimizer')}\n      </div>\n    );\n  }\n}\n\nexport default SideModelInfo;\n","import React from 'react';\nimport TrainingLabel from './TrainingLabel';\nimport ModelsApi from '../api/ModelsApi';\nimport UnauthorizedAlert from '../helpers/UnauthorizedAlert';\n\nfunction StopSignalNotification(props) {\n  return (\n    <div className={`alert alert-success ${props.show ? '' : 'd-none'}`}>\n      Stop signal sent. The training will end at the end of the current epoch.\n    </div>\n  );\n}\n\nclass TrainingPanel extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showStopSignalNotification: false\n    }\n  }\n\n  async stopTrainingClickHandler() {\n    const api = new ModelsApi();\n    const code = await api.stopTraining(this.props.id);\n    if (code === 200) {\n      this.setState({ showStopSignalNotification: true });\n    } else {\n      UnauthorizedAlert();\n    }\n  }\n\n  createModal() {\n    return (\n      <div className=\"modal fade\" id=\"training-panel-modal\" tabIndex=\"-1\">\n        <div className=\"modal-dialog modal-dialog-centered\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\">Confirm</h5>\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\"></button>\n            </div>\n            <div className=\"modal-body\">\n              Do you really want to stop training?\n            </div>\n            <div className=\"modal-footer\">\n              <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                data-dismiss=\"modal\"\n                onClick={() => this.stopTrainingClickHandler()}>\n                Stop\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"alert alert-secondary\">\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <TrainingLabel />\n            <button\n              className=\"btn btn-danger\"\n              data-toggle=\"modal\"\n              data-target=\"#training-panel-modal\"\n              disabled={this.state.showStopSignalNotification}>\n              Stop Training\n            </button>\n          </div>\n        </div>\n\n        <StopSignalNotification show={this.state.showStopSignalNotification} />\n\n        {this.createModal('btn btn-primary')}\n      </div>\n    );\n  }\n}\n\nexport default TrainingPanel;","import React from 'react';\nimport ModelsApi from '../api/ModelsApi';\nimport Chart from './Chart';\nimport HistoryParser from '../helpers/HistoryParser';\nimport SideModelInfo from './SideModelInfo';\nimport TrainingPanel from './TrainingPanel';\nimport io from 'socket.io-client';\nimport './StatsRoute.css';\nimport Spinner from './Spinner';\nimport Navbar from './Navbar';\n\nclass StatsRoute extends React.Component {\n  constructor(params) {\n    super(params);\n    this.params = {\n      id: params.match.params.id\n    }\n    this.state = {\n      data: null,\n      showSpinner: true\n    }\n    this.socket = null;\n    this.model = null;\n  }\n\n  async drawChart() {\n    const api = new ModelsApi();\n    const history = await api.getHistory(this.params.id);\n    const parser = new HistoryParser();\n    const parsedHistory = parser.parse(history);\n\n    this.setState({\n      data: parsedHistory,\n      showSpinner: false\n    });\n  }\n\n  socketUpdate(newData) {\n    const oldData = this.state.data;\n    if (!oldData) {\n      this.drawChart();\n      return;\n    }\n\n    const keys = Object.keys(newData.metrics);\n\n    oldData.datasets.forEach(dataset => {\n      if (keys.includes(dataset.label)) {\n        dataset.data.push(newData.metrics[dataset.label]);\n      }\n    });\n\n    oldData.labels.push(newData.epoch);\n\n    this.setState({\n      data: { ...oldData },\n      showSpinner: false\n    });\n  }\n\n  async componentDidMount() {\n    this.socket = io(new ModelsApi().SOCKET_URL);\n    this.socket.on(`history-${this.params.id}`, (data) => {\n      console.log('socket data', data);\n      this.socketUpdate(data);\n    });\n    this.socket.on(`training-${this.params.id}`, async (data) => {\n      if (data === 'end') {\n        const api = new ModelsApi();\n        const model = await api.getModel(this.params.id);\n        this.setState({ model });\n      }\n    });\n\n    const api = new ModelsApi();\n    const model = await api.getModel(this.params.id);\n    this.setState({ model, showSpinner: false });\n\n    this.drawChart();\n  }\n\n  componentWillUnmount() {\n    this.socket.close();\n  }\n\n  render() {\n    const renderTrainingPanel = (condition) => {\n      if (condition) {\n        return <TrainingPanel id={this.params.id} />;\n      }\n    }\n\n    if (this.state.showSpinner) {\n      return (\n        <>\n          <Navbar />\n          <div className=\"container-fluid flex-grow-1 d-flex align-items-center justify-content-center\" style={{ marginTop: '-42px' }}>\n            <Spinner />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <>\n        <Navbar />\n        <div className=\"StatsRoute container-fluid flex-grow-1\">\n          <div className=\"row h-100\">\n            <div className=\"col-lg-9 mt-2 mt-lg-0 d-flex align-items-center justify-content-center\">\n              <Chart data={this.state.data} />\n            </div>\n            <div className=\"sidebar col-lg-3 pr-lg-0 d-none d-lg-block d-xl-block\"> {/* for desktop */}\n              <div className=\"py-3\">\n                {renderTrainingPanel(this.state.model && !this.state.model.training_end)}\n                <SideModelInfo model={this.state.model} />\n              </div>\n            </div>\n            <div className=\"col-lg-3 d-lg-none d-xl-none py-3\"> {/* for mobile */}\n              {renderTrainingPanel(this.state.model && !this.state.model.training_end)}\n              <SideModelInfo model={this.state.model} />\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default StatsRoute;","import Api from './Api';\n\nclass UsersApi extends Api {\n  auth(username, password) {\n    return this.post('/auth/token', { username, password }).then(res => res.json());\n  }\n}\n\nexport default UsersApi;","import React from 'react';\n\nclass Alertbox extends React.Component {\n  render() {\n    const type = this.props.type ? `alert-${this.props.type}` : '';\n    const classes = this.props.className || '';\n    return (\n      <div className={`alert ${type} ${classes}`}>\n        {this.props.message}\n      </div>\n    );\n  }\n}\n\nexport default Alertbox;","import React from 'react';\nimport Icon from '@mdi/react';\nimport { mdiAccount, mdiKey } from '@mdi/js';\nimport UsersApi from '../api/UsersApi';\nimport UserSingleton from '../helpers/UserSingleton';\nimport Alertbox from './Alertbox';\nimport { Redirect } from 'react-router-dom';\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      loading: false,\n      alertbox: null,\n      redirect: null\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    if (this.state.loading) return;\n\n    const { username, password } = this.state;\n    const api = new UsersApi();\n\n    if (username && password) {\n      this.setState({ loading: true });\n      const token = await api.auth(username, password);\n      if (token.success) {\n        const userSingleton = new UserSingleton();\n        userSingleton.setUserId(token.userid);\n        userSingleton.setToken(token.token);\n        userSingleton.setTokenExpiration(token.valid_until);\n        this.setState({ redirect: '/' });\n      } else {\n        this.setState({\n          alertbox: <Alertbox type=\"danger\" message={token.message} />,\n          loading: false\n        });\n      }\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return (\n        <Redirect exact to={this.state.redirect} />\n      );\n    }\n\n    const { username, password, alertbox, loading } = this.state;\n\n    const LoadingButton = () => {\n      return (\n        <button className=\"btn btn-primary text-right\" type=\"submit\" disabled>\n          <span className=\"spinner-border spinner-border-sm\"></span> Loading...\n        </button>\n      );\n    }\n    const SubmitButton = () => {\n      return (\n        <button className=\"btn btn-primary text-right\" type=\"submit\">\n          Submit\n        </button>\n      );\n    }\n\n    return (\n      <form onSubmit={e => this.handleSubmit(e)}>\n        {alertbox}\n        <div className=\"form-group mt-3\">\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\"><Icon path={mdiAccount} size={.8} /></div>\n            </div>\n            <input className=\"form-control\"\n              type=\"text\"\n              placeholder=\"Username\"\n              name=\"username\"\n              value={username}\n              onChange={(e) => this.handleChange(e)} />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <div className=\"input-group\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\"><Icon path={mdiKey} size={.8} /></div>\n            </div>\n            <input className=\"form-control\"\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"password\"\n              value={password}\n              onChange={(e) => this.handleChange(e)} />\n          </div>\n        </div>\n        <div className=\"text-right\">\n          {loading ? <LoadingButton /> : <SubmitButton />}\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default LoginForm;","import React from 'react';\nimport LoginForm from './LoginForm';\nimport Navbar from './Navbar';\n\nclass LoginRoute extends React.Component {\n  render() {\n    return (\n      <>\n        <Navbar />\n        <div className=\"container-fluid flex-grow-1 d-flex align-items-center justify-content-center\" style={{ marginTop: '-50px' }}>\n          <div className=\"card\" style={{ maxWidth: '550px' }}>\n            {/* <img src={process.env.PUBLIC_URL + '/img/login_card_header.jpg'}\n              className=\"card-img-top\"\n              style={{ objectFit: 'cover', maxHeight: '56px' }}\n              alt=\"\" /> */}\n            <div className=\"card-header\" style={{\n              backgroundImage: `url('${process.env.PUBLIC_URL}/img/login_card_header.jpg')`,\n              backgroundRepeat: 'no-repeat',\n              backgroundPosition: 'center',\n              backgroundColor: 'black'\n            }}>\n              <h5 className=\"text-white my-2\">LOGIN</h5>\n            </div>\n            <div className=\"card-body\">\n              <LoginForm />\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default LoginRoute;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport UserSingleton from '../helpers/UserSingleton';\n\nclass LogoutRoute extends React.Component {\n  constructor(props) {\n    super(props);\n    const userSingleton = new UserSingleton();\n    userSingleton.clearData();\n  }\n\n  render() {\n    return (\n      <Redirect exact to=\"/\" />\n    );\n  }\n}\n\nexport default LogoutRoute;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport HomeRoute from './components/HomeRoute';\nimport ModelsRoute from './components/ModelsRoute';\nimport StatsRoute from './components/StatsRoute';\nimport LoginRoute from './components/LoginRoute';\nimport LogoutRoute from './components/LogoutRoute';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route exact path='/' component={HomeRoute} />\n        <Route path='/models' component={ModelsRoute} />\n        <Route path='/stats/:id' component={StatsRoute} />\n        <Route path=\"/login\" component={LoginRoute} />\n        <Route path=\"/logout\" component={LogoutRoute} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\n\nReactDOM.render(<HashRouter basename='/'><App /></HashRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}